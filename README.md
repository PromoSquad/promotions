<p align="center"><a href="https://nyu-promotion-service-fall2103.us-south.cf.appdomain.cloud/" target="_blank" rel="noopener noreferrer"><img width="400" src="https://raw.githubusercontent.com/PromoSquad/static/main/images/promo_logo_full_114.png" alt="Promotions logo"></a></p>

<p align="center">
  <a href="https://github.com/PromoSquad/promotions/actions/workflows/test.yml"><img src="https://github.com/PromoSquad/promotions/actions/workflows/test.yml/badge.svg" alt="Run Python Tests"></a>
  <a href="https://codecov.io/gh/PromoSquad/promotions" target="_blank"><img src="https://codecov.io/gh/PromoSquad/promotions/branch/main/graph/badge.svg?token=C8GU9IMZBE" alt="codecov"></a>
  <a href="https://nyu-promotion-service-fall2103.us-south.cf.appdomain.cloud/apidocs" target="_blank"><img src="https://img.shields.io/badge/docs-available-green" alt="docs"></a>
  <a href="https://github.com/PromoSquad/promotions/blob/main/LICENSE"><img src="https://img.shields.io/github/license/PromoSquad/promotions" alt="License"></a>
</p>

Project Promotions repo for NYU DevOps Fall 2021. A microservice that manages promotion information, leveraging technologies including Flask(Python), Swagger, PostgreSQL, GitHub Actions and IBM Cloud.

## About

This project focuses on building a microservice that manages promotion information and applying various DevOps practices.

This is still in progress. Additional information, new features and more are being added into this repo.

For instructions for developers, please refer to [CONTRIBUTING.md](./CONTRIBUTING.md).

## Running on IBM Cloud

The service is deployed on IBM Cloud. You can visit it at:

- Dev: [https://nyu-promotion-service-fall2103-dev.us-south.cf.appdomain.cloud/](https://nyu-promotion-service-fall2103-dev.us-south.cf.appdomain.cloud/)
- Prod: [https://nyu-promotion-service-fall2103.us-south.cf.appdomain.cloud/](https://nyu-promotion-service-fall2103.us-south.cf.appdomain.cloud/)

## Run locally by Honcho

Make sure you have Python 3.8+ and [requirements.txt](./requirements.txt) installed. Then, run the following command:

```bash
PORT=8080 honcho start
```

## Service API Docs

This service is built with [Swagger](https://swagger.io/), which is a specification language for describing RESTful APIs.

The service API documentation is auto-generated by Swagger and available at path [/apidocs](https://nyu-promotion-service-fall2103.us-south.cf.appdomain.cloud/apidocs) of the service.

## Project structure

```txt
Project
├── .devcontainer                   VSCode remote container for development
│   ├── decvontainer.json               Container config
│   └── docker-compose.yml              Docker Compose file
│
├── .github                         GitHub repo
│   ├── ISSUE_TEMPLATE                  Issue template
│   │   ├── bug_report.md                   Bug report template
│   │   └── story.md                        Story template
│   └── workflows                   GitHub Actions workflows
│       └── test.yml                    Run Python Tests
│
├── .vscode                         Team-wide VSCode workspace settings
│   └── settings.json
│
├── features                        BDD testing features
│   ├── steps                           Step implementations for BDD testing
│   │   ├── promotions_steps.py             Promotions creation and deletion implementation
│   │   └── web_steps.py                    Web action simulation implementations
│   ├── environment.py                  Environment setup for BDD testing
│   └── promotions.feature              Promotions BDD testing feature
│
├── scripts                         Scripts
│   └── manifest.py                     `manifest.yml` file generator
│
├── service                         Promotions service
│   ├── static                          UI static files
│   │   ├── css                             CSS files
│   │   │   └── style.css                       Main CSS file
│   │   ├── img                             Images
│   │   │   └── logo.svg                        Promotions logo
│   │   ├── js                              JavaScript files
│   │   │   ├── api.js                          Promotions API
│   │   │   └── app.js                          Promotions vue app
│   │   └── index.html                      Promotions index page
│   ├── __init__.py                     Promotions service initialization
│   ├── error_handlers.py               Promotions error handlers
│   ├── models.py                       Promotions models
│   ├── routes.py                       Promotions routes
│   └── status.py                       HTTP status codes
│
├── tests                           Unit tests
│   ├── __init__.py                      Unit tests initialization
│   ├── factories.py                     Promotions factories
│   ├── test_db_error.py                 Test database error
│   ├── test_promotions.py               Promotions model unit tests
│   └── test_routes.py                   Promotions routes unit tests
│
├── .coveragerc                     Coverage config
├── .gitignore                      Gitignore
├── config.py                       Service configuration file
├── CONTRIBUTING.md                 Contributing guidelines
├── LICENSE                         License
├── Procfile                        Procfile
├── README.md                       The file you're reading
├── requirements.txt                Python dependencies
├── runtime.txt                     Runtime configuration
├── setup.cfg                       Setup config
└── Vagrantfile                     Vagrantfile
```

## License

MIT, see [LICENSE](./LICENSE) file for details.

---

This repo is part of the DevOps course CSCI-GA.2820-001/002 at NYU taught by John Rofrano.
